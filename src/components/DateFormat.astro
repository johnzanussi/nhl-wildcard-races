---
import type { HTMLAttributes } from 'astro/types';

export interface Props extends HTMLAttributes<'time'> {
    date: string | Date;
}

const {
    date,
    ...props
} = Astro.props;

---

<time datetime={date.toString()} {...props}>{date.toLocaleString()}</time>

<script>
(() => {
    document.querySelectorAll('time').forEach((el) => {
        const timestamp = el.getAttribute('datetime');
        if (timestamp) {
            const date = new Date(timestamp);
            el.innerHTML = date.toLocaleString();
        }
    });
})();
</script>